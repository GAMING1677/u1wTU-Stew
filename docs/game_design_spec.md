# ゲームデザイン仕様書 (Game Design Specification)

> [!NOTE]
> このドキュメントは、現在のコードベース (`Assets/Scripts` 以下) の解析に基づいて作成された逆設計書です。実装されている機能を反映しています。

## 1. 基本情報
*   **プロジェクト名**: Approval Monster (承認欲求モンスター / u1wTU-Stew)
*   **ジャンル**: ソーシャルメディア運営シミュレーション × デッキ構築型ローグライク
*   **プラットフォーム**: PC / Mobile (Unity)
*   **画面**: 横画面 (1920x1080想定)

## 2. ゲーム概要
プレイヤーはSNSアカウント（あるいはインフルエンサー）を育成・管理し、カードを使って「投稿」を行い、承認欲求（インプレッション・フォロワー）を満たしていくゲーム。
各ステージには「ノルマ（目標インプレッション数）」が設定されており、限られたターン数内でノルマを達成することを目指す。

## 3. コアゲームループ
1.  **ステージ開始**: ステージごとに設定されたノルマと制限ターン数が提示される。
2.  **ターン進行**:
    *   **ドロー**: 山札からカードを引く。
    *   **アクション**: 手札のカードをプレイして、インプレッションやフォロワーを獲得する。
        *   カードの使用にはコスト（主にメンタル）が必要。
        *   カードには様々な効果（即時獲得、バフ、デバフ、特殊状態）がある。
    *   **ターン終了**: 手札を捨て、メンタルの自然回復や継続効果の処理を行う。
3.  **ステージクリア判定**:
    *   **クリア**: 制限ターン内に目標インプレッション（Quota）に到達する。
    *   **ゲームオーバー**: メンタルが0になる、または制限ターン内にノルマ未達成。
4.  **報酬**: 新しいカードの獲得（ドラフト）、デッキの強化。
5.  **次のステージへ**: 難易度の上がった次ステージへ進む。

## 4. リソース (Resources)
ゲーム内で管理される主要なパラメータ。

*   **Impression (インプレッション)**:
    *   いわゆる「スコア」。
    *   ステージごとのノルマ達成に必要。
    *   カードの効果によって直接獲得したり、ターン経過で獲得したりする。
*   **Follower (フォロワー)**:
    *   インプレッション獲得効率に影響する「倍率」パラメータ。
    *   フォロワーが多いほど、1回の投稿（カードプレイ）で得られるインプレッションが増加する。
*   **Mental (メンタル)**:
    *   いわゆる「HP」兼「コスト」。
    *   多くのカードは使用時にメンタルを消費する。
    *   メンタルが0になると活動不能（ゲームオーバー）になる可能性がある。
    *   ターン終了時に回復する場合もある。
*   **Money (資金/ポイント)**:
    *   ショップやイベントで使用するリソース（実装状況要確認）。

## 5. カードシステム (Card System)
*   **デッキ (Deck)**:
    *   プレイヤーが構築するカードの束。
    *   ドローパイル（山札）とディスカードパイル（捨て札）の概念がある。
*   **カードパラメータ**:
    *   **Cost**: 使用に必要なメンタル量。
    *   **Effect**:
        *   インプレッション獲得
        *   フォロワー獲得
        *   メンタル回復/消費
        *   バフ/デバフ付与（次のターンの効果倍増など）
        *   特殊効果（手札を捨てる、引くなど）
    *   **Rarity**: Common, Rare, Epic などのレアリティ区分。
*   **ドラフト (Draft)**:
    *   ステージクリア後や特定のタイミングで、ランダムに提示された3枚のカードから1枚を選んでデッキに追加するシステム。

## 6. ステージ・進行システム
*   **Stage (ステージ)**:
    *   難易度の区切り。
    *   **Quota**: ノルマとなるインプレッション数。
    *   **MaxTurn**: ステージの制限ターン数。
*   **Tutorial (チュートリアル)**:
    *   初回プレイ時にゲームのルールを説明するフロー。スポットライト機能などでUIを強調表示する。

## 7. UI / 演出
*   **SNS風インターフェース**: タイムラインやプロフィール画面を模したUI。
*   **キャラクターリアクション**: プレイヤーの行動や状況（メンタル低下、ノルマ達成など）に応じてキャラクターのアニメーションや表情が変化する。
*   **演出**:
    *   カード使用時のエフェクト。
    *   インプレッション増加時の数値演出。
    *   「いいね」やハートが飛ぶ演出。

## 8. 実装済み重要クラス (Script Reference)
*   `GameManager`: ゲーム全体のステートマシン（ターン管理、勝敗判定）。
*   `ResourceManager`: 各種リソース（Impression, Follower, Mental）のデータ管理。
*   `CardData`: カード個別のデータを定義するScriptableObject。
*   `StageData`: ステージ設定を定義するScriptableObject。
*   `UIManager`: UI全体の統括。
